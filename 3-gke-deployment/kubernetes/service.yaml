apiVersion: v1
kind: Service
metadata:
  name: hello-gke-service
spec:
  # This exposes the service on a static port on each node's IP.
  # It is the Ingress that manages public-facing access and the Load Balancer.
  type: NodePort
  selector:
    app: hello-gke # This must match the 'app' label in the Deployment
  ports:
    - protocol: TCP
      port: 80 # The port the public Load Balancer listens on
      targetPort: 8080 # The port the container is running on
